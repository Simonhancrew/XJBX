## LeptCloud

LeptCloud是一个支持分布式存储的高负载解决方案。项目中涉及到了的常见中间件，和一些开发的常见工具。在研发的路径中收获良多，记录若干。

### 开门见山

在Leptcloud中，我使用fastdfs作为文件储存系统，nginx反向代理相关请求到端口，通过fastcgi的后台进程持续处理。mysql维护我的用户信息，redis维护登录的token减小存储的压力。

### 关于选型和瓶颈测试

这里的项目仅仅作为自己的练习和熟悉相关开发流程的学习之用，并没有涉及到超大规模的并发设计。在压测中，理论和经验情况下，常规服务器下支持10w人的并发还是没有问题的。

如何压测？后续会更新压测和瓶颈的分析，有些是利用code测试实现，有些会用wrk做压测。

### 项目文档和构架简析

![构架图](./pic/1.png)

整体构架图如上，详细记录会在后续讲解。项目实现的服务端代码在同目录的src下。

mysql中记录了用户信息和用户的文件信息，fastdfs中进行文件操作的时候会将记录写入mysql中。

接口文档在同目录下的API文档中

### 分布式文件系统详解

 

### Q&A

+ 云盘多⼤上传量，⾼峰期能到多少
+ 同⼀个group⾥的storage如何做同步
+ 不同group⾥的storage能否做同步
+ 存储的storage服务器宕机了，其他storage如何同步？
+ 如何防⽌盗链
+ FastDFS如何应对单点故障
+ 能否⽀持断点续传？如何实现？
+ 能否⽀持⼩⽂件合并
+ 如何实现负载均衡

